import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.DatCARk7.js";import{C as l,g as h}from"./PagePanel.wKPJPzuD.js";import{C as x}from"./Panel.DNTpzIqw.js";import{C as g}from"./Link.B_Ek03dv.js";import{C as f}from"./LinkBtn.xMx404JM.js";import{N as b}from"./NotificationBanner.CO-NXOpy.js";import{G as y}from"./eventTypes.BXQZO3VW.js";import{A as j,m as v}from"./proxy.cR2-BEcM.js";import"./Button.DyseiNRh.js";const w=({id:t,type:s="text",value:r,onChange:i,placeholder:o,className:n="",disabled:c=!1})=>e.jsx("input",{id:t,type:s,value:r,onChange:i,placeholder:o,disabled:c,className:`px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-purple-50 ${c?"bg-gray-100 cursor-not-allowed":""} ${n}`}),N=({onActionClick:t})=>{const[s,r]=d.useState();return e.jsx(l,{icon:"new-file",titleCenter:!0,title:"Add GitHub Repository",actions:[{variant:"blue",onClick:()=>{t&&t(s)},children:"Next"}],children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{htmlFor:"repository-url",className:"block text-sm text-gray-700",children:["Repository URL",e.jsx(w,{id:"repository-url",type:"url",value:s||"",onChange:i=>r(i.target.value),placeholder:"https://github.com/username/repository",className:"w-full mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-center",children:[h("info")," ",e.jsx("span",{children:"You can add only your projects."})]})]})})},k=({percentage:t,color:s="blue"})=>{const r={green:"bg-green-500",blue:"bg-blue-500",purple:"bg-purple-500",red:"bg-red-500",yellow:"bg-yellow-500"};return e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${r[s]}`,style:{width:`${t}%`}})})},u=({title:t,description:s,status:r,progress:i})=>{const o=()=>{switch(r){case"completed":return e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M20 6L9 17L4 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})});case"in-progress":return e.jsxs("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-white rounded-full ml-0.5"})]});default:return e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full"})}};return e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:o()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-medium text-gray-800 mb-1",children:t}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s}),e.jsx(k,{percentage:i})]})]})},C=({onActionClick:t})=>{const s=[{id:1,title:"Initiating a session",description:"Successfully established a secure connection to GitHub's API",status:"completed",progress:100},{id:2,title:"Downloading project information from GitHub",description:"Retrieved repository metadata, commit history, and contributor information",status:"completed",progress:85},{id:3,title:"Fetching the SBOM",description:"Software Bill of Materials successfully generated and analyzed",status:"in-progress",progress:60},{id:4,title:"Analyzing dependencies",description:"Identified and categorized all project dependencies",status:"in-progress",progress:75},{id:5,title:"Preparing project summary",description:"Compilation of repository data complete and ready for review",status:"in-progress",progress:40}];return e.jsxs(l,{title:e.jsxs("div",{className:"flex justify-left",children:[e.jsx("svg",{className:"mr-2",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#10B981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Connecting to Repo Host"]}),actions:[{variant:"blue",children:"Next",onClick:()=>{t&&t({})}}],children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We're establishing a connection to GitHub and retrieving information about your repository. This process may take a few moments."}),e.jsx("div",{className:"space-y-6 mb-8",children:s.map(r=>e.jsx(u,{title:r.title,description:r.description,status:r.status,progress:r.progress},r.id))})]})},S=({value:t,onChange:s,placeholder:r})=>e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:"text",value:t,onChange:i=>s(i.target.value),placeholder:r,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),I=({issue:t,isSelected:s,onSelect:r})=>{const i=o=>{switch(o){case"improvement":return"bg-blue-100 text-blue-800";case"feature":return"bg-green-100 text-green-800";case"bug":return"bg-red-100 text-red-800";case"enhancement":return"bg-purple-100 text-purple-800";case"custom":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(x,{className:`border rounded-lg p-4 cursor-pointer transition-colors ${s?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:r,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("input",{type:"checkbox",checked:s,onChange:r,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 mr-2",children:t.number}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(t.type)}`,children:t.type})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]})})},L=({className:t,onActionClick:s,selectedIssues:r,onIssueSelect:i})=>{const[o,n]=d.useState(""),p=[{id:"142",number:"#142",title:"Improve blockchain verification performance",description:"Transaction verification takes too long on large repositories",type:"improvement"},{id:"156",number:"#156",title:"Add support for Solana blockchain",description:"Currently only supports Ethereum and Polygon networks",type:"feature"},{id:"189",number:"#189",title:"Fix dependency vulnerability in crypto module",description:"Security issue identified in v2.3.1 of the crypto verification module",type:"bug"},{id:"201",number:"#201",title:"Implement batch processing for large SBOMs",description:"Current implementation fails with memory errors on repositories with 1000+ dependencies",type:"enhancement"},{id:"custom",number:"Other",title:"Custom issue or enhancement",description:"Describe your own contribution",type:"custom"}].filter(a=>a.title.toLowerCase().includes(o.toLowerCase())||a.description.toLowerCase().includes(o.toLowerCase()));return e.jsxs(l,{className:t,title:"Issues",rightHeader:e.jsx(f,{href:"/data/issue/post?projectId=1&notYetCreated=true&forkProject=git:ahmetson%2Fblockchain-verifier",children:"Create New Issue"}),actions:[{variant:"blue",onClick:()=>{s&&s({})},children:"Next"}],children:[e.jsxs("div",{children:["Your project is forked from",e.jsx(g,{className:"ml-1",href:"https://github.com/ara-foundation/blockchain-verification-tool",children:"ara-foundation/blockchain-verification-tool"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.jsx("span",{children:"Showing the `blockchain-verification-tool` issues. You can select multiple issues."})}),e.jsx(S,{value:o,onChange:n,placeholder:"Search for issues in the original repository..."}),e.jsx("div",{className:"space-y-3 mb-6",children:p.map(a=>e.jsx(I,{issue:a,isSelected:r.includes(a.id),onSelect:()=>i(a.id)},a.id))}),e.jsx("p",{className:"text-center text-sm text-red-500 mt-2",children:"Select Issues first or create a new one"})]})},B=({label:t,value:s,type:r,placeholder:i,onChange:o})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),e.jsx("input",{type:r,value:s,placeholder:i,onChange:n=>o?.(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-cascade-blue focus:border-cascade-blue bg-purple-100"})]}),m=({label:t,value:s,placeholder:r,rows:i=4,className:o="",onChange:n})=>e.jsxs("div",{className:o,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),e.jsx("textarea",{value:s,placeholder:r,rows:i,onChange:c=>n?.(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-cascade-blue focus:border-cascade-blue bg-gray-100 resize-none"})]}),P=({onActionClick:t})=>e.jsxs(l,{title:"Update Project Information",actions:[{onClick:()=>{t&&t({})},children:"Confirm",variant:"blue"}],children:[e.jsx(B,{label:"Project Title",value:"blockchain-verification-tool",type:"text"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-200 px-3 py-2 rounded text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"License:"})," ",e.jsx("span",{className:"font-medium",children:"MIT"})]}),e.jsxs("div",{className:"bg-gray-200 px-3 py-2 rounded text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Created At:"})," ",e.jsx("span",{className:"font-medium",children:"12/05/2023"})]}),e.jsxs("div",{className:"bg-gray-200 px-3 py-2 rounded text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Primary Language:"})," ",e.jsx("span",{className:"font-medium",children:"Javascript"})]})]}),e.jsx(m,{label:"Repository Description",value:"An open-source tool for verifying software components on the blockchain, ensuring transparency and security in the software supply chain."}),e.jsx(m,{label:"What are the advantages compared to other projects?",placeholder:"Describe what makes your app different."})]}),M=({onActionClick:t})=>{const s=[{id:1,title:"Preparing SBOM data for blockchain registration",description:"Successfully prepared the data to submit",status:"completed",progress:100},{id:2,title:"Submitting transaction to blockchain network",description:"Sending the data on your behalf to the network",status:"completed",progress:85},{id:3,title:"Waiting for blockchain confirmation",description:"Blockchain takes few seconds to complete. Tx to check: 0x01..231",status:"in-progress",progress:60},{id:4,title:"Preparing the project in the task system",description:"Identified and categorized all project dependencies",status:"in-progress",progress:3},{id:5,title:"Removing the session log",description:"Compilation of repository data complete and ready for review",status:"pending",progress:0}];return e.jsxs(l,{title:e.jsxs("div",{className:"flex justify-left",children:[e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#10B981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Registering the Blockchain Record"]}),actions:[{variant:"blue",children:"Complete",onClick:()=>{t&&t({})}}],children:[e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Creating an immutable record of your SBOM data on the blockchain"}),e.jsx("div",{className:"space-y-6 mb-8",children:s.map(r=>e.jsx(u,{title:r.title,description:r.description,status:r.status,progress:r.progress},r.id))})]})},R=()=>{const t=[{id:1,title:"Quest System Added",description:"We've added a new quest system to help you track your open source contributions. Your first task is ready to be completed.",status:"completed",progress:100}];return e.jsx(l,{title:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"m265.69 544.94c0.02 11.27 2.9 22.23 5.29 33.17 8.17 34.88 20.68 68.41 34.09 101.56 12.73 30.26 25.52 60.58 46.5 85.84 31.23-44.4-199.26 147.06-144.56 68.28 11.93-20.73 25.1-40.69 37.88-60.89 38.51-62.08 78.47-123.23 117.94-184.7 61.13-93.89 121.79-188.23 170.95-289.05 4.56-10.66 9.13-21.31 13.69-31.97l141.9-64.11c-6.82 11.82-13.64 23.65-20.46 35.48-57.62 97.4-117.91 193.2-174.39 291.28-31.32 56.62-62.01 113.61-90.06 171.94-9.87 19.45-20.6 38.36-31.07 57.47-27.23 62.99-141.39 169.08-179.22 97.63-10.72-32.02-21.55-64.09-36.06-94.65-14.74-32.38-30.38-64.33-45.42-96.57-5.01-10.73-8.52-21.88-11.98-33.19l164.98-87.52z",id:"layer1",transform:"translate(-100.71 -203.07)",stroke:"#10B981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Project Added Successfully"]}),actions:[{variant:"blue",href:"/maintainer/work",children:"Go to Work"}],children:t.map(s=>e.jsx(u,{title:s.title,description:s.description,status:s.status,progress:s.progress},s.id))})},A=(t,s,r)=>t!==void 0&&s!==void 0&&r!==void 0,U=({projectId:t,forkProjectId:s,createdIssueId:r})=>{const[i,o]=d.useState(A(t,s,r)?2:0);return e.jsx("div",{className:"bg-transparent",children:e.jsx(j,{mode:"wait",children:e.jsxs(v.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.2,when:"beforeChildren",delayChildren:.2},children:[i===0&&e.jsx(N,{onActionClick:n=>{console.log(n),o(1)}}),i===1&&e.jsx(C,{onActionClick:n=>o(n===void 0?3:2)}),i===2&&e.jsx(b,{type:"warning",title:"Issue why you fork",children:"Select or create a new issue. In CascadeFund, we link the projects between each other via issues in order to make them discoverable and self structurized."}),i===2&&e.jsx(L,{className:`mt-${y.panel.gap.y}`,selectedIssues:[],onIssueSelect:console.log,onActionClick:n=>o(3)}),i===3&&e.jsx(P,{onActionClick:n=>o(4)}),i===4&&e.jsx(M,{onActionClick:n=>o(5)}),i===5&&e.jsx(R,{})]},i?"updateable":"view")})})};export{U as default};
