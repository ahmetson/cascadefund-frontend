import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.DatCARk7.js";import I from"./Tooltip.DhyKPcMV.js";import{C as M}from"./PagePanel.wKPJPzuD.js";import{B as O}from"./Badge.DYBheGlz.js";import{G as $,b as Q}from"./eventTypes.BXQZO3VW.js";import{B as K}from"./Button.DyseiNRh.js";import"./index.Bz-QvCnq.js";import"./slot.CaEOsvSu.js";import"./proxy.cR2-BEcM.js";import"./Panel.DNTpzIqw.js";import"./LinkBtn.xMx404JM.js";const q=()=>s.jsxs(I,{content:s.jsxs("div",{className:"flex items-center justify-between space-x-1 text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Points left to reach next star:"}),s.jsx("span",{className:"font-semibold text-gray-300",children:"650"})]}),children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("div",{className:"flex space-x-1",children:[[1,2,3,4,5,6].map(e=>s.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e)),[7,8,9,10].map(e=>s.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e))]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"6/10"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-teal-500 h-2 rounded-full",style:{width:"30%"}})})]}),X=({ref:e,onTaskClick:t,selectedTaskId:r,completedTaskId:o,id:i,title:c,points:u,time:y,isHighlighted:l=!1})=>{l=l||r===i;const p=o===i;return s.jsxs("div",{ref:e,onClick:()=>t(i),className:`flex items-center justify-between p-3 rounded-lg border hover:cursor-pointer shadow-lg ${l?"bg-green-100 border-green-600 hover:bg-green-200":"bg-white border-gray-300 hover:bg-gray-200 hover:border-green-400"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${p?"bg-green-700 border-green-700":"border-green-300"}`,children:l&&s.jsx("svg",{className:"w-3 h-3 text-green",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("span",{className:`text-sm ${p?"line-through text-gray-500":"text-gray-900"}`,children:c})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-xs font-medium text-green-600",children:["+",u," pts"]}),s.jsx("span",{className:"text-xs text-gray-500",children:y})]})]})},H=["shift","alt","meta","mod","ctrl","control"],Y={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function C(e){return(Y[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function G(e){return H.includes(e)}function A(e,t=","){return e.toLowerCase().split(t)}function P(e,t="+",r=">",o=!1,i){let c=[],u=!1;e=e.trim(),e.includes(r)?(u=!0,c=e.toLocaleLowerCase().split(r).map(p=>C(p))):c=e.toLocaleLowerCase().split(t).map(p=>C(p));const y={alt:c.includes("alt"),ctrl:c.includes("ctrl")||c.includes("control"),shift:c.includes("shift"),meta:c.includes("meta"),mod:c.includes("mod"),useKey:o},l=c.filter(p=>!H.includes(p));return{...y,keys:l,description:i,isSequence:u,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&z([C(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&F([C(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{w.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{w.clear()},0)}));const w=new Set;function R(e){return Array.isArray(e)}function Z(e,t=","){return(R(e)?e:e.split(t)).every(r=>w.has(r.trim().toLowerCase()))}function z(e){const t=Array.isArray(e)?e:[e];w.has("meta")&&w.forEach(r=>!G(r)&&w.delete(r.toLowerCase())),t.forEach(r=>w.add(r.toLowerCase()))}function F(e){const t=Array.isArray(e)?e:[e];e==="meta"?w.clear():t.forEach(r=>w.delete(r.toLowerCase()))}function _(e,t,r){(typeof r=="function"&&r(e,t)||r===!0)&&e.preventDefault()}function J(e,t,r){return typeof r=="function"?r(e,t):r===!0||r===void 0}const ee=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function te(e){return U(e,ee)}function U(e,t=!1){const{target:r,composed:o}=e;let i,c;return se(r)&&o?(i=e.composedPath()[0]&&e.composedPath()[0].tagName,c=e.composedPath()[0]&&e.composedPath()[0].role):(i=r&&r.tagName,c=r&&r.role),R(t)?!!(i&&t&&t.some(u=>u.toLowerCase()===i.toLowerCase()||u===c)):!!(i&&t&&t)}function se(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function ne(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(r=>t.includes(r))||e.includes("*"):!0}const re=(e,t,r=!1)=>{const{alt:o,meta:i,mod:c,shift:u,ctrl:y,keys:l,useKey:p}=t,{code:j,key:a,ctrlKey:N,metaKey:v,shiftKey:k,altKey:g}=e,h=C(j);if(p&&l?.length===1&&l.includes(a))return!0;if(!l?.includes(h)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(h))return!1;if(!r){if(o!==g&&h!=="alt"||u!==k&&h!=="shift")return!1;if(c){if(!v&&!N)return!1}else if(i!==v&&h!=="meta"&&h!=="os"||y!==N&&h!=="ctrl"&&h!=="control")return!1}return l&&l.length===1&&l.includes(h)?!0:l?Z(l):!l},oe=m.createContext(void 0),ae=()=>m.useContext(oe);function V(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((r,o)=>r&&V(e[o],t[o]),!0):e===t}const ie=m.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),ce=()=>m.useContext(ie);function le(e){const t=m.useRef(void 0);return V(t.current,e)||(t.current=e),t.current}const B=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},de=typeof window<"u"?m.useLayoutEffect:m.useEffect;function E(e,t,r,o){const i=m.useRef(null),c=m.useRef(!1),u=Array.isArray(r)?Array.isArray(o)?void 0:o:r,y=R(e)?e.join(u?.delimiter):e,l=Array.isArray(r)?r:Array.isArray(o)?o:void 0,p=m.useCallback(t,l??[]),j=m.useRef(p);l?j.current=p:j.current=t;const a=le(u),{activeScopes:N}=ce(),v=ae();return de(()=>{if(a?.enabled===!1||!ne(N,a?.scopes))return;let k=[],g;const h=(n,d=!1)=>{if(!(te(n)&&!U(n,a?.enableOnFormTags))){if(i.current!==null){const x=i.current.getRootNode();if((x instanceof Document||x instanceof ShadowRoot)&&x.activeElement!==i.current&&!i.current.contains(x.activeElement)){B(n);return}}n.target?.isContentEditable&&!a?.enableOnContentEditable||A(y,a?.delimiter).forEach(x=>{if(x.includes(a?.splitKey??"+")&&x.includes(a?.sequenceSplitKey??">")){console.warn(`Hotkey ${x} contains both ${a?.splitKey??"+"} and ${a?.sequenceSplitKey??">"} which is not supported.`);return}const f=P(x,a?.splitKey,a?.sequenceSplitKey,a?.useKey,a?.description);if(f.isSequence){g=setTimeout(()=>{k=[]},a?.sequenceTimeoutMs??1e3);const S=f.useKey?n.key:C(n.code);if(G(S.toLowerCase()))return;k.push(S);const W=f.keys?.[k.length-1];if(S!==W){k=[],g&&clearTimeout(g);return}k.length===f.keys?.length&&(j.current(n,f),g&&clearTimeout(g),k=[])}else if(re(n,f,a?.ignoreModifiers)||f.keys?.includes("*")){if(a?.ignoreEventWhen?.(n)||d&&c.current)return;if(_(n,f,a?.preventDefault),!J(n,f,a?.enabled)){B(n);return}j.current(n,f),d||(c.current=!0)}})}},L=n=>{n.code!==void 0&&(z(C(n.code)),(a?.keydown===void 0&&a?.keyup!==!0||a?.keydown)&&h(n))},T=n=>{n.code!==void 0&&(F(C(n.code)),c.current=!1,a?.keyup&&h(n,!0))},b=i.current||u?.document||document;return b.addEventListener("keyup",T,u?.eventListenerOptions),b.addEventListener("keydown",L,u?.eventListenerOptions),v&&A(y,a?.delimiter).forEach(n=>v.addHotkey(P(n,a?.splitKey,a?.sequenceSplitKey,a?.useKey,a?.description))),()=>{b.removeEventListener("keyup",T,u?.eventListenerOptions),b.removeEventListener("keydown",L,u?.eventListenerOptions),v&&A(y,a?.delimiter).forEach(n=>v.removeHotkey(P(n,a?.splitKey,a?.sequenceSplitKey,a?.useKey,a?.description))),k=[],g&&clearTimeout(g)}},[y,a,N]),i}const D="selects a task",je=({title:e="My Tasks"})=>{const[t,r]=m.useState([{title:"Complete project proposal",points:50,time:"10:00 AM"},{title:"Review client feedback",points:50,time:"11:30 AM"},{title:"Team meeting",points:50,time:"1:00 PM"},{title:"Update documentation",points:50,time:"3:00 PM"},{title:"Send weekly report",points:50,time:"5:00 PM"}].map((n,d)=>({...n,id:`${d+1}`}))),[o,i]=m.useState(),[c,u]=m.useState(D),[y,l]=m.useState(),[p,j]=m.useState(!1);m.useEffect(()=>{u(o===void 0?D:"Clear"),o&&a(o)},[o]),m.useEffect(()=>{t.length===0&&setTimeout(()=>{j(!0)},3e3)},[t]);const a=n=>{n===t[t.length-1].id?b[n].scrollIntoView(!1):b[n].scrollIntoView({block:"center",behaviour:"smooth",inline:"nearest"})},N=()=>{const n=t[0].id;i(n)},v=()=>{i(void 0)},k=n=>{o===n?v():i(n)},g=()=>{l(o),setTimeout(()=>{const n=h();for(let d=0;d<t.length;d++)t[d].id===o&&(delete b[t[d].id],delete t[d]);r(t.filter(d=>d!==void 0)),i(n)},250)},h=()=>{if(o){const d=(t.findIndex(f=>f.id===o)+1)%t.length;return t[d].id}},L=()=>{if(o){const d=(t.findIndex(f=>f.id===o)+1)%t.length,x=t[d].id;i(x)}},T=()=>{if(o){const d=(t.findIndex(f=>f.id===o)-1+t.length)%t.length,x=t[d].id;i(x)}};E("enter",()=>{o?g():N()}),E("left",T),E("esc",v),E("right",L);const b={};return t.length>0?s.jsxs(M,{className:`mb-${$.panel.gap.y}`,title:s.jsxs("div",{children:[e,s.jsx(O,{variant:"red",children:t.length}),s.jsx("p",{className:"text-sm text-gray-500 font-normal text-center",children:"Complete the management tasks."})]}),rightHeader:s.jsx(q,{}),children:[s.jsx("div",{className:`p-4 space-y-3 lg:max-h-[30vh] overflow-y-auto ${Q.listContent}`,children:t.map(n=>s.jsx(X,{...n,ref:d=>b[n.id]=d,onTaskClick:k,completedTaskId:y,selectedTaskId:o}))}),s.jsxs("div",{className:"h-6 flex justify-between",children:[s.jsx(I,{content:s.jsx("div",{className:"text-sm",children:o?"Press Esc to deselect the task.":"Press Enter to select the first task."}),children:s.jsxs(K,{onClick:o?v:N,variant:o?"secondary-outline":"outline",className:"flex flex-start space-x-1 m-0 p-1!",children:[s.jsx("kbd",{className:"kbd border border-gray-300 rounded-sm border-solid px-1 w-12 block",children:o?"Esc":"Enter"}),s.jsx("div",{children:c})]})}),o&&s.jsx(I,{content:s.jsx("div",{className:"text-sm",children:"Press Enter to start the quest system. Guides and notifications, and Auto UI will guide you through the process. Minimum effort."}),children:s.jsxs(K,{onClick:g,variant:"primary",className:"flex flex-start space-x-1 m-0 p-1!",children:[s.jsx("kbd",{className:"kbd border border-gray-300 rounded-sm border-solid px-1 text-gray-600 w-12 block",children:"Enter"}),s.jsx("div",{children:"Play"})]})}),o&&s.jsx(I,{content:s.jsxs("div",{className:"text-sm",children:["Press on ◀︎   ▶︎ arrow buttons to select previous or next task.",s.jsx("br",{}),"Pressing on the button will select the next task."]}),children:s.jsxs(K,{onClick:L,variant:"secondary-outline",className:"flex flex-start space-x-1 m-0 p-1!",children:[s.jsx("kbd",{className:"kbd border border-gray-300 rounded-sm border-solid px-1 w-12 block",children:"◀︎    ▶︎"}),s.jsx("div",{children:"Change Task"})]})})]})]}):p?null:s.jsx(M,{className:`mb-${$.panel.gap.y}`,title:s.jsxs("div",{children:["Tasks are completed",s.jsx(O,{variant:"info",children:t.length})]}),rightHeader:s.jsx(q,{}),children:s.jsx("div",{className:"p-4 space-y-3 lg:max-h-[30vh] overflow-y-auto",children:"Come back in a few days later. No tasks to do."})})};export{je as default};
