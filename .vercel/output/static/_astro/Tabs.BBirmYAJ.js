import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as e}from"./index.DatCARk7.js";import{c as M,g as te,S as Z}from"./slot.CaEOsvSu.js";import{A as Q,m as S}from"./proxy.cR2-BEcM.js";const _=e.createContext(void 0);function ne(){const r=e.useContext(_);if(!r)throw new Error("useHighlight must be used within a HighlightProvider");return r}function ie({ref:r,...i}){const{as:a="div",children:c,value:f,defaultValue:t,onValueChange:u,className:h,style:m,transition:l={type:"spring",stiffness:350,damping:35},hover:C=!1,click:j=!0,enabled:n=!0,controlledItems:g,disabled:w=!1,exitDelay:p=200,mode:N="children"}=i,v=e.useRef(null);e.useImperativeHandle(r,()=>v.current);const[k,R]=e.useState(f??t??null),[b,O]=e.useState(null),[z,P]=e.useState(""),q=e.useCallback(o=>{R(x=>x===o?x:o),o!==k&&u?.(o)},[k,u]),D=e.useCallback(o=>{if(!v.current)return;const x=i?.boundsOffset??{top:0,left:0,width:0,height:0},T=v.current.getBoundingClientRect(),d={top:o.top-T.top+(x.top??0),left:o.left-T.left+(x.left??0),width:o.width+(x.width??0),height:o.height+(x.height??0)};O(y=>y&&y.top===d.top&&y.left===d.left&&y.width===d.width&&y.height===d.height?y:d)},[i]),U=e.useCallback(()=>{O(o=>o===null?o:null)},[]);e.useEffect(()=>{f!==void 0?R(f):t!==void 0&&R(t)},[f,t]);const W=e.useId();e.useEffect(()=>{if(N!=="parent")return;const o=v.current;if(!o)return;const x=()=>{if(!k)return;const T=o.querySelector(`[data-value="${k}"][data-highlight="true"]`);T&&D(T.getBoundingClientRect())};return o.addEventListener("scroll",x,{passive:!0}),()=>o.removeEventListener("scroll",x)},[N,k,D]);const L=e.useCallback(o=>N==="parent"?s.jsxs(a,{ref:v,"data-slot":"motion-highlight-container",style:{position:"relative",zIndex:1},className:i?.containerClassName,children:[s.jsx(Q,{initial:!1,mode:"wait",children:b&&s.jsx(S.div,{"data-slot":"motion-highlight",animate:{top:b.top,left:b.left,width:b.width,height:b.height,opacity:1},initial:{top:b.top,left:b.left,width:b.width,height:b.height,opacity:0},exit:{opacity:0,transition:{...l,delay:(l?.delay??0)+(p??0)/1e3}},transition:l,style:{position:"absolute",zIndex:0,...m},className:M(h,z)})}),o]}):o,[N,a,i,b,l,p,m,h,z]);return s.jsx(_.Provider,{value:{mode:N,activeValue:k,setActiveValue:q,id:W,hover:C,click:j,className:h,style:m,transition:l,disabled:w,enabled:n,exitDelay:p,setBounds:D,clearBounds:U,activeClassName:z,setActiveClassName:P,forceUpdateBounds:i?.forceUpdateBounds},children:n?L(g?c:e.Children.map(c,(o,x)=>s.jsx(ee,{className:i?.itemsClassName,children:o},x))):c})}function K(r,i){return Object.keys(i).reduce((a,c)=>(r.props[c]===void 0&&(a[c]=i[c]),a),{})}function ee({ref:r,as:i,children:a,id:c,value:f,className:t,style:u,transition:h,disabled:m=!1,activeClassName:l,exitDelay:C,asChild:j=!1,forceUpdateBounds:n,...g}){const w=e.useId(),{activeValue:p,setActiveValue:N,mode:v,setBounds:k,clearBounds:R,hover:b,click:O,enabled:z,className:P,style:q,transition:D,id:U,disabled:W,exitDelay:L,forceUpdateBounds:o,setActiveClassName:x}=ne(),T=i??"div",d=a,y=c??f??d.props?.["data-value"]??d.props?.id??w,B=p===y,Y=m===void 0?W:m,V=h??D,A=e.useRef(null);if(e.useImperativeHandle(r,()=>A.current),e.useEffect(()=>{if(v!=="parent")return;let I,H=null;const X=n===!0||o&&n!==!1,J=()=>{if(!A.current)return;const F=A.current.getBoundingClientRect();if(X){if(H&&H.top===F.top&&H.left===F.left&&H.width===F.width&&H.height===F.height){I=requestAnimationFrame(J);return}H=F,I=requestAnimationFrame(J)}k(F)};if(B?(J(),x(l??"")):p||R(),X)return()=>cancelAnimationFrame(I)},[v,B,p,k,R,l,x,n,o]),!e.isValidElement(a))return a;const E={"data-active":B?"true":"false","aria-selected":B,"data-disabled":Y,"data-value":y,"data-highlight":!0},G=b?{onMouseEnter:I=>{N(y),d.props.onMouseEnter?.(I)},onMouseLeave:I=>{N(null),d.props.onMouseLeave?.(I)}}:O?{onClick:I=>{N(y),d.props.onClick?.(I)}}:{};return j?v==="children"?e.cloneElement(d,{key:y,ref:A,className:M("relative",d.props.className),...K(d,{...E,"data-slot":"motion-highlight-item-container"}),...G,...g},s.jsxs(s.Fragment,{children:[s.jsx(Q,{initial:!1,mode:"wait",children:B&&!Y&&s.jsx(S.div,{layoutId:`transition-background-${U}`,"data-slot":"motion-highlight",style:{position:"absolute",zIndex:0,...q,...u},className:M(P,l),transition:V,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...V,delay:(V?.delay??0)+(C??L??0)/1e3}},...E})}),s.jsx(T,{"data-slot":"motion-highlight-item",style:{position:"relative",zIndex:1},className:t,...E,children:a})]})):e.cloneElement(d,{ref:A,...K(d,{...E,"data-slot":"motion-highlight-item"}),...G}):z?s.jsxs(T,{ref:A,"data-slot":"motion-highlight-item-container",className:M(v==="children"&&"relative",t),...E,...g,...G,children:[v==="children"&&s.jsx(Q,{initial:!1,mode:"wait",children:B&&!Y&&s.jsx(S.div,{layoutId:`transition-background-${U}`,"data-slot":"motion-highlight",style:{position:"absolute",zIndex:0,...q,...u},className:M(P,l),transition:V,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...V,delay:(V?.delay??0)+(C??L??0)/1e3}},...E})}),e.cloneElement(d,{style:{position:"relative",zIndex:1},className:d.props.className,...K(d,{...E,"data-slot":"motion-highlight-item"})})]},y):a}const[se,$]=te("TabsContext");function ae({defaultValue:r,value:i,onValueChange:a,children:c,...f}){const[t,u]=e.useState(r),h=e.useRef(new Map),m=e.useRef(!1),l=i!==void 0;e.useEffect(()=>{if(!l&&t===void 0&&h.current.size>0&&!m.current){const n=h.current.keys().next().value;n!==void 0&&(u(n),m.current=!0)}},[t,l]);const C=e.useCallback((n,g)=>{g?(h.current.set(n,g),!l&&t===void 0&&!m.current&&(u(n),m.current=!0)):h.current.delete(n)},[t,l]),j=e.useCallback(n=>{l?a?.(n):u(n)},[l,a]);return s.jsx(se,{value:{activeValue:i??t,handleValueChange:j,registerTrigger:C},children:s.jsx("div",{"data-slot":"tabs",...f,children:c})})}function oe({transition:r={type:"spring",stiffness:200,damping:25},...i}){const{activeValue:a}=$();return s.jsx(ie,{"data-slot":"tabs-highlight",controlledItems:!0,value:a,transition:r,click:!1,...i})}function re(r){return s.jsx("div",{role:"tablist","data-slot":"tabs-list",...r})}function le(r){return s.jsx(ee,{"data-slot":"tabs-highlight-item",...r})}function ce({ref:r,value:i,asChild:a=!1,...c}){const{activeValue:f,handleValueChange:t,registerTrigger:u}=$(),h=e.useRef(null);e.useImperativeHandle(r,()=>h.current),e.useEffect(()=>(u(i,h.current),()=>u(i,null)),[i,u]);const m=a?Z:S.button;return s.jsx(m,{ref:h,"data-slot":"tabs-trigger",role:"tab",onClick:()=>t(i),"data-state":f===i?"active":"inactive",...c})}function ue({children:r,transition:i={type:"spring",stiffness:300,damping:30,bounce:0,restDelta:.01},...a}){const{activeValue:c}=$(),f=e.Children.toArray(r),t=f.findIndex(n=>e.isValidElement(n)&&typeof n.props=="object"&&n.props!==null&&"value"in n.props&&n.props.value===c),u=e.useRef(null),h=e.useRef([]),[m,l]=e.useState(0),C=e.useRef(null),j=e.useCallback(()=>{const n=h.current[t],g=u.current;if(!n||!g)return 0;const w=n.getBoundingClientRect().height||0,p=getComputedStyle(g),N=p.boxSizing==="border-box",v=(parseFloat(p.paddingTop||"0")||0)+(parseFloat(p.paddingBottom||"0")||0),k=(parseFloat(p.borderTopWidth||"0")||0)+(parseFloat(p.borderBottomWidth||"0")||0);let R=w+(N?v+k:0);const b=typeof window<"u"&&window.devicePixelRatio||1;return R=Math.ceil(R*b)/b,R},[t]);return e.useEffect(()=>{C.current&&(C.current.disconnect(),C.current=null);const n=h.current[t],g=u.current;if(!n||!g)return;l(j());const w=new ResizeObserver(()=>{const p=j();requestAnimationFrame(()=>l(p))});return w.observe(n),w.observe(g),C.current=w,()=>{w.disconnect(),C.current=null}},[t,f.length,j]),e.useLayoutEffect(()=>{if(m===0&&t>=0){const n=j();n!==0&&l(n)}},[t,m,j]),s.jsx(S.div,{ref:u,"data-slot":"tabs-contents",style:{overflow:"hidden"},animate:{height:m},transition:i,...a,children:s.jsx(S.div,{className:"flex -mx-2",animate:{x:t*-100+"%"},transition:i,children:f.map((n,g)=>s.jsx("div",{ref:w=>{h.current[g]=w},className:"w-full shrink-0 px-2 h-full",children:n},g))})})}function de({value:r,style:i,asChild:a=!1,...c}){const{activeValue:f}=$(),t=f===r,u=a?Z:S.div;return s.jsx(u,{role:"tabpanel","data-slot":"tabs-content",inert:!t,style:{overflow:"hidden",...i},initial:{filter:"blur(0px)"},animate:{filter:t?"blur(0px)":"blur(4px)"},exit:{filter:"blur(0px)"},transition:{type:"spring",stiffness:200,damping:25},...c})}const pe=({activeTab:r,tabs:i})=>{const[a,c]=e.useState(r),f="flex-1 rounded-md hover:bg-accent/50 rounded-b-none hover:border-b-2 hover:border-blue-500 hover:shadow-md";return s.jsxs(ae,{onValueChange:c,value:a,className:"bg-rounded-lg rounded-lg relative border-radius-lg bg-white mb-6 pt-2 pb-0",children:[s.jsx(oe,{className:"",children:s.jsx(re,{className:"h-10 inline-flex p-1 pb-0 w-full ",children:i.map(t=>s.jsx(le,{value:t.key,className:f+(a===t.key?" bg-blue-100 border-b-2 border-blue-300  shadow-sm":""),children:s.jsx(ce,{value:t.key,className:"h-full px-4 py-2 leading-0 w-full text-sm ",children:t.label})},t.key))})}),s.jsx(ue,{className:"bg-background p-3 h-80",children:i.map(t=>s.jsx(de,{value:t.key,className:"space-y-4",children:t.content}))})]})};export{pe as C};
