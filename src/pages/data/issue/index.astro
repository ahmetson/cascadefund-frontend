---
import V2Layout from "@/layouts/PanelViewLayout.astro";
import NavigatingSubtitledElement from "@/components/utilitified_decorations/NavigatingSubtitledItem";
import NavigatingElement from "@/components/utilitified_decorations/NavigatingItem";
import BackButton from "@/components/utilitified_decorations/BackButton";
import IssueContent from "@/components/issue/IssueContentPanel";
import PriorityPanel from "@/components/issue/IssuePrioritificationPanel.astro";
import IssueDetails from "@/components/issue/IssueDetailsPanel";
import RecentActivity from "@/components/issue/RecentActivityPanel";
import RelatedIssues from "@/components/issue/RelatedIssuesPanel";
import ChatPanel from "@/components/chat";
import NotificationBanner from "@/components/NotificationBanner";

const additional = [
  await NavigatingElement({
    href: "/maintainer/work",
    children: "Cascading Work",
  }),
  await NavigatingSubtitledElement({
    subtitle: "Issues List/Roadmap",
    active: true,
    children: "Version",
  }),
  await NavigatingElement({ active: true, children: "Issue" }),
].reverse();
---

<V2Layout subtitle="Data Section: Issue" additional={additional}>
  <BackButton slot="left" href="/data/project" />
  <NotificationBanner type="warning" title="Complete a quest..." slot="center">
    Please reply to the "Project Timeline" chat.'
  </NotificationBanner>

  <IssueContent slot="center" />
  <PriorityPanel slot="center" />

  <IssueDetails slot="right" client:load />
  <ChatPanel slot="right" client:load />
  <RecentActivity slot="right" />
  <RelatedIssues slot="right" />
</V2Layout>

<style is:global>
  @import "@chatscope/chat-ui-kit-styles/dist/default/styles.min.css";
</style>
