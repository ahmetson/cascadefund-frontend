---
import V2Layout from "@/layouts/PanelViewLayout.astro";
import NavigatingSubtitledElement from '@/components/utilitified_decorations/NavigatingSubtitledItem'
import NavigatingElement from '@/components/utilitified_decorations/NavigatingItem'
import BackButton from '@/components/utilitified_decorations/BackButton'
import IssueContent from '@/components/v2/issue/IssueContentPanel'
import PriorityPanel from '@/components/v2/issue/IssuePrioritificationPanel.astro'
import IssueDetails from '@/components/v2/issue/IssueDetailsPanel'
import RecentActivity from '@/components/v2/issue/RecentActivityPanel'
import RelatedIssues from '@/components/v2/issue/RelatedIssuesPanel'
import ChatPanel from '@/components/chat'
import NotificationBanner from "@/components/v2/NotificationBanner";

const additional = [
  await NavigatingElement({href: "/v2/maintainer/work", children: "Cascading Work"}),
  await NavigatingSubtitledElement({subtitle: "Issues List/Roadmap", active: true, children: "Version"}),
  await NavigatingElement({active: true, children: "Issue"})
].reverse();
---

<V2Layout landingPageTopMenu={false} cascadeLogoSubtitle="Data Section: Issue" additional={additional}>
  <BackButton slot="left" href="/v2/data/project" />
    <NotificationBanner 
      type="warning"
      title="Complete a quest..."
      slot="center"
    >
      Please reply to the "Project Timeline" chat.'
    </NotificationBanner>

    <IssueContent slot="center" />
    <PriorityPanel slot="center" />
    
    <IssueDetails slot="right" client:visible />
    <ChatPanel slot="right" client:visible />
    <RecentActivity slot="right" />
    <RelatedIssues slot="right" />
</V2Layout>

<style is:global>
  @import '@chatscope/chat-ui-kit-styles/dist/default/styles.min.css';
</style>